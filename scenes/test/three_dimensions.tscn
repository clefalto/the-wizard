[gd_scene load_steps=18 format=3 uid="uid://c8pwwbq8gcys"]

[ext_resource type="Script" uid="uid://bo5cehnr8ouoj" path="res://scenes/test/three_dimensions.gd" id="1_dykvc"]
[ext_resource type="Script" uid="uid://0nujdwd05ef3" path="res://scenes/flipper/flipper_3d.gd" id="1_xo0s0"]
[ext_resource type="PackedScene" uid="uid://cr6xgkw4k1b38" path="res://scenes/ball/ball.tscn" id="3_47141"]
[ext_resource type="Script" path="res://scenes/mechanics/ball_reset_area.gd" id="4_bj65e"]
[ext_resource type="PackedScene" uid="uid://cpeymv21j6ji" path="res://scenes/Components/test_component.tscn" id="5_tyqpo"]

[sub_resource type="BoxMesh" id="BoxMesh_avw3x"]
size = Vector3(7.5, 0.25, 5)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_7tnmc"]
friction = 0.1

[sub_resource type="BoxShape3D" id="BoxShape3D_xo0s0"]
size = Vector3(7.5, 0.25, 5)

[sub_resource type="BoxMesh" id="BoxMesh_j57ll"]
size = Vector3(0.25, 0.25, 0.75)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_nemko"]
points = PackedVector3Array(-0.125, -0.125, -0.363565, 0.125, 0.125, 0.363565, 0.125, -0.125, 0.363565, 0.125, 0.125, -0.363565, -0.125, 0.125, 0.363565, -0.125, -0.125, 0.363565, 0.125, -0.125, -0.363565, -0.125, 0.125, -0.363565)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_xo0s0"]
friction = 0.0
bounce = 1.0

[sub_resource type="BoxShape3D" id="BoxShape3D_62fbj"]
size = Vector3(9, 2, 0.148438)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_62fbj"]
friction = 0.0
bounce = 1.0

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_pkgf5"]
friction = 0.0
bounce = 1.0

[sub_resource type="BoxShape3D" id="BoxShape3D_pkgf5"]
size = Vector3(0.197601, 2, 5.35083)

[sub_resource type="BoxShape3D" id="BoxShape3D_tyqpo"]
size = Vector3(0.761719, 1, 5)

[sub_resource type="Environment" id="Environment_avw3x"]
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 1.16

[node name="Board" type="Node3D" node_paths=PackedStringArray("ball_spawn_point")]
script = ExtResource("1_dykvc")
ball_prefab = ExtResource("3_47141")
ball_spawn_point = NodePath("BallSpawnPoint")

[node name="BallSpawnPoint" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.94675, 0.581896, 0.513353)

[node name="Playfield" type="Node3D" parent="."]

[node name="BaseBoard" type="MeshInstance3D" parent="Playfield"]
mesh = SubResource("BoxMesh_avw3x")
skeleton = NodePath("")

[node name="StaticBody3D" type="StaticBody3D" parent="Playfield/BaseBoard"]
physics_material_override = SubResource("PhysicsMaterial_7tnmc")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Playfield/BaseBoard/StaticBody3D"]
shape = SubResource("BoxShape3D_xo0s0")

[node name="LeftFlipper" type="Node3D" parent="Playfield"]
transform = Transform3D(0.746499, 0, -0.665386, 0, 1, 0, 0.665386, 0, 0.746499, 2.44241, 0.263013, 0.952634)
script = ExtResource("1_xo0s0")
activation_action = "flip_left"
flip_speed = 750.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="Playfield/LeftFlipper"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.392283)
mesh = SubResource("BoxMesh_j57ll")

[node name="CharacterBody3D" type="CharacterBody3D" parent="Playfield/LeftFlipper"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.392283)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Playfield/LeftFlipper/CharacterBody3D"]
shape = SubResource("ConvexPolygonShape3D_nemko")

[node name="RightFlipper" type="Node3D" parent="Playfield"]
transform = Transform3D(-0.738396, 0, -0.674367, -7.45058e-09, 1, 0, 0.674367, 0, -0.738396, 2.46675, 0.263013, -0.958168)
script = ExtResource("1_xo0s0")
activation_action = "flip_right"
flip_speed = 750.0
flip_side = 1

[node name="MeshInstance3D" type="MeshInstance3D" parent="Playfield/RightFlipper"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.392283)
mesh = SubResource("BoxMesh_j57ll")

[node name="CharacterBody3D" type="CharacterBody3D" parent="Playfield/RightFlipper"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.392283)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Playfield/RightFlipper/CharacterBody3D"]
shape = SubResource("ConvexPolygonShape3D_nemko")

[node name="LeftWall" type="StaticBody3D" parent="Playfield"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3)
physics_material_override = SubResource("PhysicsMaterial_xo0s0")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Playfield/LeftWall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, -0.425781)
shape = SubResource("BoxShape3D_62fbj")

[node name="RightWall" type="StaticBody3D" parent="Playfield"]
transform = Transform3D(1, -7.45058e-09, 0, 0, 1, 0, 0, -4.95751e-09, 1, 0, 0, -2.14715)
physics_material_override = SubResource("PhysicsMaterial_62fbj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Playfield/RightWall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, -0.425781)
shape = SubResource("BoxShape3D_62fbj")

[node name="TopWall" type="StaticBody3D" parent="Playfield"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 0, 0)
physics_material_override = SubResource("PhysicsMaterial_pkgf5")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Playfield/TopWall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.150894, 0.5, -0.108765)
shape = SubResource("BoxShape3D_pkgf5")

[node name="BallResetArea" type="Area3D" parent="Playfield"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0, 0)
script = ExtResource("4_bj65e")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Playfield/BallResetArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.119141, 0, 0)
shape = SubResource("BoxShape3D_tyqpo")

[node name="ComponentManager" type="Node3D" parent="Playfield"]

[node name="TestComponent" parent="Playfield/ComponentManager" instance=ExtResource("5_tyqpo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.12388, 0.213509, 0)

[node name="TestComponent2" parent="Playfield/ComponentManager" instance=ExtResource("5_tyqpo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.12388, 0.213509, -0.973703)

[node name="TestComponent3" parent="Playfield/ComponentManager" instance=ExtResource("5_tyqpo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.12388, 0.213509, 1.00046)

[node name="TestComponent4" parent="Playfield/ComponentManager" instance=ExtResource("5_tyqpo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.12388, 0.213509, 1.93991)

[node name="TestComponent5" parent="Playfield/ComponentManager" instance=ExtResource("5_tyqpo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.12388, 0.213509, -1.96748)

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.14281, 0)
light_energy = 2.986
light_indirect_energy = 1.97
omni_range = 10.2

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_avw3x")

[connection signal="body_entered" from="Playfield/BallResetArea" to="Playfield/BallResetArea" method="_on_body_entered"]
